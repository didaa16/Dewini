<div class="container mt-4">
    <h2>Liste des Dossiers Médicaux</h2>



    

    <!-- Dossiers Table -->
    <div class="table-responsive" *ngIf="!loading && !error && dossiers.length > 0">
      <table class="table table-striped table-hover">
        <thead>
          <tr>
            <th>Patient</th>
            <th>Date de Création</th>
            <th>Antécédents Médicaux</th>
            <th>Allergies</th>
            <th>Traitements en Cours</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let dossier of dossiers">
            <td>{{ dossier.patient.firstname }} {{ dossier.patient.lastname }}</td>
            <td>{{ dossier.dateCreation }}</td>
            <td [innerHTML]="formatText(dossier.antecedentsMedicaux)"></td>
            <td [innerHTML]="formatText(dossier.allergies)"></td>
            <td [innerHTML]="formatText(dossier.traitementsEnCours)"></td>
            <td>
              <div class="btn-group">
                <button class="btn btn-danger btn-sm"
                        (click)="onDelete(dossier.id_dossier!)"
                        [disabled]="!dossier.id_dossier"
                        title="Supprimer">
                  <i class="bi bi-trash"></i>
                </button>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- No Records Message -->
    <div *ngIf="!loading && !error && dossiers.length === 0" class="alert alert-info">
      Aucun dossier médical trouvé.
    </div>
  </div>
