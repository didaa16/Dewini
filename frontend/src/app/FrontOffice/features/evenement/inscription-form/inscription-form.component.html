<div class="container mt-5" *ngIf="evenement">
  <h2>Inscription à l'événement: {{evenement.nom}}</h2>
  
  <div *ngIf="errorMessage" class="alert alert-danger">
    {{errorMessage}}
  </div>

  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="role">Rôle</label>
      <select class="form-control" formControlName="role">
        <option *ngFor="let role of roles" [value]="role">{{role}}</option>
      </select>
    </div>

    <div class="form-group">
      <label for="type">Type</label>
      <select class="form-control" formControlName="type">
        <option *ngFor="let type of types" [value]="type">{{type}}</option>
      </select>
    </div>

    <div class="form-group">
      <label for="typeEngagement">Type d'engagement</label>
      <select class="form-control" formControlName="typeEngagement">
        <option *ngFor="let engagement of typeEngagement" [value]="engagement">{{engagement}}</option>
      </select>
    </div>

    <div class="mt-4">
      <button type="submit" class="btn btn-primary" [disabled]="loading || form.invalid">
        <span *ngIf="loading" class="spinner-border spinner-border-sm"></span>
        {{evenement.prix > 0 ? 'Payer et confirmer inscription' : 'Confirmer inscription'}}
      </button>
    </div>
  </form>
</div>