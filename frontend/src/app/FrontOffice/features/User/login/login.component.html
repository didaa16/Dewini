<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Bootstrap & Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-5 col-md-7">
        <div class="panel border bg-white">
          <div class="panel-heading text-center">
            <!-- IcÃ´ne de cadenas avec fond rond -->
            <div class="icon-container">
              <img src="assets/FrontOffice/images/avatar.svg" alt="" class="w">
              <h2 class="title">Welcome To Dewini !</h2>
            </div>
          </div>

          <div class="panel-body p-3">
            <form [formGroup]="loginForm" (ngSubmit)="login()">
              <!-- Email Field -->
              <div class="form-group pt-3">
                <div class="input-field" [class.error]="loginForm.get('email')?.invalid && (loginForm.get('email')?.touched || loginForm.get('email')?.dirty)">
                  <i class="bi bi-person p-2"></i>
                  <input
                    formControlName="email"
                    type="email"
                    placeholder="email"
                    required
                    (blur)="validateEmail()">
                </div>
                <small *ngIf="loginForm.get('email')?.invalid && (loginForm.get('email')?.touched || loginForm.get('email')?.dirty)" class="text-danger">
                  *Email is required and should be valid*
                </small>
              </div>

              <!-- Password Field -->
              <div class="form-group pt-3 position-relative">
                <div class="input-field" [class.error]="loginForm.get('password')?.invalid && (loginForm.get('password')?.touched || loginForm.get('password')?.dirty)">
                  <i class="bi bi-lock p-2"></i>
                  <input
                    formControlName="password"
                    [type]="type"
                    placeholder="Password"
                    class="form-control"
                    required
                    (blur)="validatePassword()">
                  <button type="button" (click)="hideShowPass()" class="toggle-password">
                    <i class="{{eyeIcon}}"></i>
                  </button>
                </div>
                <small *ngIf="loginForm.get('password')?.invalid && (loginForm.get('password')?.touched || loginForm.get('password')?.dirty)" class="text-danger">
                  *Password is required*
                </small>
              </div>

              <!-- Forgot Password -->
              <div class="form-inline text-end mt-4">
                <a id="forgot" data-bs-toggle="modal" data-bs-target="#exampleModal" class="font-weight-bold" routerLink="/forget-password" href="#">
                  Forgot password?
                </a>
              </div>

              <!-- Login Button -->
              <button type="submit" class="btn btn-primary btn-block mt-4 w-100">
                <i class="fa fa-sign-in me-2"></i>
                Sign in
              </button>

              <!-- Sign Up Link -->
              <div class="text-center pt-4 text-muted">
                Don't have an account?
                <a routerLink="/register">Sign up</a>
              </div>
            </form>

            <!-- Social Login Buttons -->
            <div class="social-login text-center mt-4">
              <!-- Facebook -->
              <a href="#" class="px-2" (click)="loginWithFacebook(); $event.preventDefault()">
                <img src="https://cdn-icons-png.flaticon.com/512/733/733547.png" alt="Facebook" width="40" height="40">
              </a>

              <!-- Google -->
              <a href="#" class="px-2" (click)="loginWithGoogle(); $event.preventDefault()">
                <img src="https://cdn-icons-png.flaticon.com/512/300/300221.png" alt="Google" width="40" height="40">
              </a>

              <!-- GitHub -->
              <a href="#" class="px-2" (click)="loginWithGitHub(); $event.preventDefault()">
                <img src="https://cdn-icons-png.flaticon.com/512/733/733553.png" alt="GitHub" width="40" height="40">
              </a>
            </div>

            <!-- Face Auth Option -->
            <div class="face-auth-option mt-4 pt-3 border-top">
              <button class="btn btn-outline-primary w-100" (click)="startFaceAuth()">
                <i class="bi bi-camera me-2"></i>Connexion par reconnaissance faciale
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>


