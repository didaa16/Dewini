<div class="page-content">
  <div class="container mt-5 commande-list">
    <h2 class="mb-4 text-success text-center">ğŸ“¦ Commandes passÃ©es</h2>

    <div *ngIf="livraisons.length > 0; else noData">
      <div class="card livraison-card" *ngFor="let l of livraisons">
        <!-- ğŸ§¾ En-tÃªte -->
        <div class="d-flex justify-content-between align-items-center border-bottom pb-2">
          <div>
            <h5 class="mb-1">Commande #{{ l.id }} â€“ <strong>{{ l.nomClient }}</strong></h5>
            <p class="text-muted mb-0"><i class="fa fa-calendar"></i> {{ l.dateLivraison | date:'short' }}</p>
          </div>
          <span class="badge bg-success">{{ l.etat }}</span>
        </div>

        <!-- ğŸ“‹ Contenu -->
        <div class="mt-3">
          <p><strong>ğŸ“ Adresse :</strong> {{ l.adresse }}</p>

          <div *ngIf="l.medicaments?.length > 0">
            <p><strong>ğŸ’Š MÃ©dicaments :</strong></p>
            <ul class="list-unstyled ms-3">
              <li *ngFor="let med of l.medicaments">â€¢ {{ med.nom }}</li>
            </ul>
          </div>

          <div *ngIf="l.medicaments?.length === 0" class="text-muted fst-italic">
            Aucun mÃ©dicament associÃ©.
          </div>
        </div>

        <!-- ğŸ”§ Actions -->
        <div class="mt-3 text-end">
          <button class="btn btn-outline-primary btn-sm me-2" (click)="modifierCommande(l.id)">âœ Modifier</button>
          <button class="btn btn-outline-danger btn-sm me-2" (click)="supprimerCommande(l.id)">ğŸ—‘ Supprimer</button>
          <button class="btn btn-outline-secondary btn-sm" (click)="generatePDF(l)">ğŸ§¾ Facture</button>
        </div>
      </div>
    </div>

    <!-- ğŸ˜• Aucune commande -->
    <ng-template #noData>
      <div class="alert alert-info text-center shadow-sm rounded-4">
        ğŸ˜• Aucune commande trouvÃ©e.
      </div>
    </ng-template>
  </div>
</div>
